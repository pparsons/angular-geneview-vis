<!DOCTYPE html>
<html ng-app="demoApp">
<head>
    <title>geneview-vis demo page</title>

    <link rel="stylesheet" href="src/angular-geneview-vis.css" />
    <link rel="stylesheet" href="bower_components/angular-busy/dist/angular-busy.min.css" />
    <link rel="stylesheet" href="bower_components/d3-context-menu/css/d3-context-menu.css"/>

    <style>


        #controls {
            margin: 10px 10px 10px 0;
        }

        #container{
            margin:auto;
            width: 1000px;
        }
    </style>
</head>


<body ng-controller="mainCtrl">


<div id="container">

    Current Version: {{version}}

    <div id="controls">
        <span>Chromosome Number:</span>
        <span ng-repeat="chr in chromosomes">
            <button ng-click="chrclick(chr)">{{chr}}</button>
        </span>


    </div>

    <div id="test"></div>


    <!--<chromosome id="chr20" chr="X" rel-size="false"-->
                <!--axis="true" assembly="37" width='1000' height="20"-->
                <!--mode="single"-->
                <!--centromere="dot" geneview-map="true">-->

        <!--<geneview show-status="true" article-stats="false" phenotypes="true" detail-window="true">-->

        <!--</geneview>-->
    <!--</chromosome>-->

    <geneview chr='X' show-status="true" article-stats="false" phenotypes="true" detail-window="true">

    </geneview>


</div>



<br/>
<!--<div geneview chr="{{chr}}" start="start" stop="stop" height="120" width="900" show-status-bar=false band-Model="bandModel"></div>-->



<!-- JS Script Dependencies -->
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
<script src="bower_components/d3-context-menu/js/d3-context-menu.js"></script>

<script src="node_modules/cyto-chromosome-vis/cyto-chromosome.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/angular-busy/4.1.3/angular-busy.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/d3-tip/0.6.3/d3-tip.min.js"></script>

<!--Geneview script dependencies-->
<!--For Release-->
<!--<script src="dist/angular-geneview-vis.min.js"></script>-->

    <!--For Development-->
<script src="src/js/index.js"></script>
<script src="src/js/services.js"></script>
<script src="src/js/geneview.js"></script>
<script src="src/js/articlecount.js"></script>
<!------->

<script>

    var demoApp = angular.module('demoApp', ['geneview', 'cgBusy', 'cyto-chromosome-vis'])
            .config(['geneview.configProvider','cytochromosomeProvider', function(gvConfig, chrConfig) {
                gvConfig.setServer("peaceful-citadel-6962.herokuapp.com");
                chrConfig.setDataDir('./node_modules/cyto-chromosome-vis/data/')
            }]);

    demoApp.controller('mainCtrl', ['$scope','geneview.version','cytochromosome', function($scope, version, cytochr) {

        $scope.version = version;
        $scope.chromosomes = [];
        for(var i = 1; i <= 22; i++) {
            $scope.chromosomes.push(i.toString())
        }

        $scope.chromosomes.push("X")
        $scope.chromosomes.push("Y")

        $scope.chrclick = function(a) {
            $scope.$broadcast('geneview:render', a);
        }



    }]);

</script>
</body>
</html>
